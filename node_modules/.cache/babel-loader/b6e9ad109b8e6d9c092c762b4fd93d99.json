{"ast":null,"code":"var _jsxFileName = \"/home/adm1/projetos-trybe/sd-015-a-project-frontend-online-store/src/pages/Cart.jsx\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nclass Cart extends React.Component {\n  constructor() {\n    super();\n    this.increaseValue = this.increaseValue.bind(this);\n    this.decreaseValue = this.decreaseValue.bind(this);\n    this.removeProduct = this.removeProduct.bind(this);\n    this.state = {\n      cart: '',\n      number: 1\n    };\n  }\n\n  componentDidMount() {\n    this.loadCart();\n  }\n\n  loadCart() {\n    const LOAD_CART = JSON.parse(localStorage.getItem('Cart')); // console.log(LOAD_CART);\n\n    this.setState({\n      cart: LOAD_CART\n    });\n  }\n\n  increaseValue({\n    target\n  }) {\n    // const { number } = this.state;\n    // number += 1;\n    // this.setState((currentState) => ({ number: currentState.number + 1 }), () => {});\n    const {\n      name\n    } = target;\n    console.log(name);\n  }\n\n  decreaseValue({\n    target\n  }) {\n    const {\n      number\n    } = this.state;\n    console.log(target.id);\n\n    if (number === 1) {\n      this.removeProductFromDecrease(target.id);\n    }\n\n    this.setState(currentState => ({\n      number: currentState.number - 1\n    }), () => {});\n  }\n\n  removeProductFromDecrease(id) {\n    const {\n      cart\n    } = this.state;\n    const NEW_CART = cart.filter(element => element.id !== id);\n    localStorage.setItem('Cart', JSON.stringify(NEW_CART));\n    this.loadCart();\n  }\n\n  removeProduct({\n    target\n  }) {\n    const {\n      cart\n    } = this.state;\n    const NEW_CART = cart.filter(element => element.id !== target.id);\n    localStorage.setItem('Cart', JSON.stringify(NEW_CART));\n    this.loadCart();\n  }\n\n  render() {\n    const {\n      cart,\n      number\n    } = this.state;\n\n    if (cart.length > 0) {\n      return cart.map(element => /*#__PURE__*/React.createElement(\"div\", {\n        key: element.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: {\n          pathname: `/product-details/${element.id}`,\n          state: {\n            element\n          }\n        },\n        \"data-testid\": \"product-detail-link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card\",\n        \"data-testid\": \"product\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        \"data-testid\": \"shopping-cart-product-name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }\n      }, element.title), /*#__PURE__*/React.createElement(\"img\", {\n        src: element.thumbnail,\n        alt: element.title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }\n      }, `R$: ${element.price}`))), /*#__PURE__*/React.createElement(\"button\", {\n        id: element.id,\n        type: \"button\",\n        \"data-testid\": \"product-decrease-quantity\",\n        onClick: this.decreaseValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      }, \"-\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }\n      }, \"Quantidade: \"), /*#__PURE__*/React.createElement(\"p\", {\n        \"data-testid\": \"shopping-cart-product-quantity\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }\n      }, number), /*#__PURE__*/React.createElement(\"button\", {\n        id: element.id,\n        name: element.title,\n        type: \"button\",\n        \"data-testid\": \"product-increase-quantity\",\n        onClick: this.increaseValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }\n      }, \"+\"), /*#__PURE__*/React.createElement(\"button\", {\n        id: element.id,\n        type: \"button\",\n        \"data-testid\": \"\",\n        onClick: this.removeProduct,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }\n      }, \"Remover Produto\")));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"shopping-cart-empty-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, \"Seu carrinho est\\xE1 vazio\"));\n  }\n\n}\n\nexport default Cart;","map":{"version":3,"sources":["/home/adm1/projetos-trybe/sd-015-a-project-frontend-online-store/src/pages/Cart.jsx"],"names":["React","Link","Cart","Component","constructor","increaseValue","bind","decreaseValue","removeProduct","state","cart","number","componentDidMount","loadCart","LOAD_CART","JSON","parse","localStorage","getItem","setState","target","name","console","log","id","removeProductFromDecrease","currentState","NEW_CART","filter","element","setItem","stringify","render","length","map","pathname","title","thumbnail","price"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nclass Cart extends React.Component {\n  constructor() {\n    super();\n    this.increaseValue = this.increaseValue.bind(this);\n    this.decreaseValue = this.decreaseValue.bind(this);\n    this.removeProduct = this.removeProduct.bind(this);\n    this.state = {\n      cart: '',\n      number: 1,\n    };\n  }\n  componentDidMount() {\n    this.loadCart();\n  }\n  loadCart() {\n    const LOAD_CART = JSON.parse(localStorage.getItem('Cart'));\n    // console.log(LOAD_CART);\n    this.setState({ cart: LOAD_CART });\n  }\n  increaseValue({ target }) {\n    // const { number } = this.state;\n    // number += 1;\n    // this.setState((currentState) => ({ number: currentState.number + 1 }), () => {});\n    const { name } = target;\n    console.log(name)\n  }\n  decreaseValue({ target }) {\n    const { number } = this.state;\n    console.log(target.id);\n    if (number === 1) {\n      this.removeProductFromDecrease(target.id);\n    }\n    this.setState((currentState) => ({ number: currentState.number - 1 }), () => {});\n  }\n  removeProductFromDecrease(id) {\n    const { cart } = this.state;\n    const NEW_CART = cart.filter((element) => element.id !== id);\n    localStorage.setItem('Cart', JSON.stringify(NEW_CART));\n    this.loadCart();\n  }\n  removeProduct({ target }) {\n    const { cart } = this.state;\n    const NEW_CART = cart.filter((element) => element.id !== target.id);\n    localStorage.setItem('Cart', JSON.stringify(NEW_CART));\n    this.loadCart();\n  }\n  render() {\n    const { cart, number } = this.state;\n    if (cart.length > 0) {\n      return cart.map((element) => (\n        <div key={ element.id }>\n          <Link\n            to={ { pathname: `/product-details/${element.id}`, state: { element } } }\n            data-testid=\"product-detail-link\"\n          >\n            <div className=\"card\" data-testid=\"product\">\n              <h1 data-testid=\"shopping-cart-product-name\">{ element.title }</h1>\n              <img src={ element.thumbnail } alt={ element.title } />\n              <h3>{`R$: ${element.price}`}</h3>\n            </div>\n          </Link>\n          <button\n            id={ element.id }\n            type=\"button\"\n            data-testid=\"product-decrease-quantity\"\n            onClick={ this.decreaseValue }\n          >\n            -\n          </button>\n          <p>Quantidade: </p>\n          <p data-testid=\"shopping-cart-product-quantity\">{ number }</p>\n          <button\n            id={ element.id }\n            name={ element.title }\n            type=\"button\"\n            data-testid=\"product-increase-quantity\"\n            onClick={ this.increaseValue }\n          >\n            +\n          </button>\n          <button\n            id={ element.id }\n            type=\"button\"\n            data-testid=\"\"\n            onClick={ this.removeProduct }\n          >\n            Remover Produto\n          </button>\n        </div>\n      ));\n    }\n    return (\n      <div>\n        <p\n          data-testid=\"shopping-cart-empty-message\"\n        >\n          Seu carrinho está vazio\n        </p>\n      </div>\n    );\n  }\n}\nexport default Cart;"]},"metadata":{},"sourceType":"module"}