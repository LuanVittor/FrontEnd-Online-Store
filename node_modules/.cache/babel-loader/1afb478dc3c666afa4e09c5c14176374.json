{"ast":null,"code":"var _jsxFileName = \"/home/luan/projeto/sd-015-a-project-frontend-online-store (1)/src/pages/Cart.jsx\";\n\n/* eslint-disable max-len */\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrashAlt } from '@fortawesome/free-solid-svg-icons';\nimport '../CSS/Cart.css';\n\nclass Cart extends React.Component {\n  constructor() {\n    super();\n\n    this.disableButton = element => {\n      const {\n        QUANTIDADE\n      } = element[1];\n      const {\n        available_quantity: inventory\n      } = element[0];\n\n      if (QUANTIDADE === inventory) {\n        return true;\n      }\n\n      return false;\n    };\n\n    this.somaCart = cart => {\n      if (cart.length > 0) {\n        return cart.map(elem => elem[1].priceUnity).reduce((a, b) => a + b);\n      }\n\n      return 0;\n    };\n\n    this.increaseValue = this.increaseValue.bind(this);\n    this.decreaseValue = this.decreaseValue.bind(this);\n    this.removeProduct = this.removeProduct.bind(this);\n    this.removeProductFromDecrease = this.removeProductFromDecrease.bind(this);\n    this.state = {\n      cart: ''\n    };\n  }\n\n  componentDidMount() {\n    this.loadCart();\n  }\n\n  removeProduct({\n    target\n  }) {\n    const {\n      cart\n    } = this.state;\n    const NEW_CART = cart.filter(element => element[0].id !== target.id);\n    localStorage.setItem('Cart', JSON.stringify(NEW_CART));\n    this.loadCart();\n  }\n\n  removeProductFromDecrease(id) {\n    const {\n      cart\n    } = this.state;\n    const NEW_CART = cart.filter(element => element[0].id !== id);\n    localStorage.setItem('Cart', JSON.stringify(NEW_CART));\n    this.setState({\n      cart: NEW_CART\n    });\n    this.loadCart();\n  }\n\n  decreaseValue({\n    target\n  }) {\n    const CART = JSON.parse(localStorage.getItem('Cart'));\n    const ID = target.id;\n    const ITEM = CART.find(element => element[0].id === target.id);\n\n    if (ITEM[1].QUANTIDADE === 1) {\n      this.removeProductFromDecrease(ID);\n    } else {\n      const {\n        price\n      } = ITEM[0];\n      const {\n        priceUnity\n      } = ITEM[1];\n      CART.reduce((acc, o) => acc.concat(ID.includes(o[0].id) ? Object.assign(o[1], {\n        QUANTIDADE: o[1].QUANTIDADE - 1,\n        priceUnity: priceUnity - price\n      }) : o), []);\n      localStorage.setItem('Cart', JSON.stringify(CART));\n      this.setState({\n        cart: CART\n      });\n    }\n  }\n\n  loadCart() {\n    const LOAD_CART = JSON.parse(localStorage.getItem('Cart'));\n    this.setState({\n      cart: LOAD_CART\n    });\n  } // A função 'reduce' que atualiza um objeto sem mudar as suas posições foi retidado do site: https://pt.stackoverflow.com/questions/397104/atualizar-campo-de-uma-sele%C3%A7%C3%A3o-de-um-array-de-objetos-com-filter\n\n\n  increaseValue({\n    target\n  }) {\n    const CART = JSON.parse(localStorage.getItem('Cart'));\n    const ID = target.id;\n    const getItemClicked = CART.filter(item => item[0].id === ID);\n    const {\n      price\n    } = getItemClicked[0][0];\n    CART.reduce((acc, o) => acc.concat(ID.includes(o[0].id) ? Object.assign(o[1], {\n      QUANTIDADE: o[1].QUANTIDADE + 1,\n      priceUnity: (o[1].QUANTIDADE + 1) * price\n    }) : o), []);\n    localStorage.setItem('Cart', JSON.stringify(CART));\n    this.setState({\n      cart: CART\n    });\n  }\n\n  render() {\n    const trashIcon = /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTrashAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 23\n      }\n    });\n    const {\n      cart\n    } = this.state;\n    const totalValue = this.somaCart(cart);\n    console.log(totalValue);\n\n    if (cart.length > 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"header\", {\n        className: \"hero is-primary main-screen-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"hero-body container-input is-flex-direction-row is-justify-content-space-around columns is-align-items-start \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"column\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"imageLogo\",\n        src: \"https://theme.zdassets.com/theme_assets/9633455/9814df697eaf49815d7df109110815ff887b3457.png\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"subtitle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 19\n        }\n      }, \"Store\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"column pt-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"title\",\n        \"data-testid\": \"home-initial-message\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }\n      }, \"Cart\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"column pt-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \" button is-link is-light shopping-cart-button float-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 19\n        }\n      }, \"Voltar a home\"))))), /*#__PURE__*/React.createElement(\"main\", {\n        className: \"cart-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }\n      }, \"Meu Carrinho\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"columns\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"column\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        className: \"table card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 23\n        }\n      }, \"Item\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 23\n        }\n      }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 23\n        }\n      }, \"Valor\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 23\n        }\n      }, \"Quantidade\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 23\n        }\n      }, \"Total\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 23\n        }\n      }, \"\\xA0\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 19\n        }\n      }, cart.map(element => /*#__PURE__*/React.createElement(\"tr\", {\n        key: element[0].id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"image-cart\",\n        src: element[0].thumbnail,\n        alt: element[0].title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 29\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        className: \"link-card\",\n        to: {\n          pathname: `/product-details/${element[0].id}`,\n          state: {\n            element\n          }\n        },\n        \"data-testid\": \"product-detail-link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        \"data-testid\": \"shopping-cart-product-name\",\n        className: \"title-cart\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 29\n        }\n      }, element[0].title))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 27\n        }\n      }, `R$ ${element[0].price.toFixed(2)}`)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"add-quantity\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"button\",\n        id: element[0].id,\n        type: \"button\",\n        \"data-testid\": \"product-decrease-quantity\",\n        onClick: this.decreaseValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 29\n        }\n      }, \"-\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"quantity\",\n        \"data-testid\": \"shopping-cart-product-quantity\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 29\n        }\n      }, element[1].QUANTIDADE), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"button\",\n        id: element[0].id,\n        type: \"button\",\n        \"data-testid\": \"product-increase-quantity\",\n        onClick: this.increaseValue,\n        disabled: this.disableButton(element),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 29\n        }\n      }, \"+\"))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"is-size-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 27\n        }\n      }, `R$ ${element[1].priceUnity.toFixed(2)}`)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"button is-danger\",\n        id: element[0].id,\n        type: \"button\",\n        \"data-testid\": \"\",\n        onClick: this.removeProduct,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 27\n        }\n      }, trashIcon))))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"column is-2 total-products \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 20\n        }\n      }, \"Resumo do Pedido\")), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 17\n        }\n      }, `${cart.length} Produto(s)`), /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 17\n        }\n      }, \"Valor Total\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"valueCart is-size-3 has-text-info\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 17\n        }\n      }, `R$ ${totalValue.toFixed(2)}`), /*#__PURE__*/React.createElement(Link, {\n        to: \"/checkout\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"button is-success\",\n        type: \"button\",\n        \"data-testid\": \"checkout-products\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 19\n        }\n      }, \"Finalizar Compra\"))))));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"shopping-cart-empty-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }\n    }, \"Seu carrinho est\\xE1 vazio\"));\n  }\n\n}\n\nexport default Cart;","map":{"version":3,"sources":["/home/luan/projeto/sd-015-a-project-frontend-online-store (1)/src/pages/Cart.jsx"],"names":["React","Link","FontAwesomeIcon","faTrashAlt","Cart","Component","constructor","disableButton","element","QUANTIDADE","available_quantity","inventory","somaCart","cart","length","map","elem","priceUnity","reduce","a","b","increaseValue","bind","decreaseValue","removeProduct","removeProductFromDecrease","state","componentDidMount","loadCart","target","NEW_CART","filter","id","localStorage","setItem","JSON","stringify","setState","CART","parse","getItem","ID","ITEM","find","price","acc","o","concat","includes","Object","assign","LOAD_CART","getItemClicked","item","render","trashIcon","totalValue","console","log","thumbnail","title","pathname","toFixed"],"mappings":"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","sourcesContent":["/* eslint-disable max-len */\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrashAlt } from '@fortawesome/free-solid-svg-icons';\nimport '../CSS/Cart.css';\n\nclass Cart extends React.Component {\n  constructor() {\n    super();\n    this.increaseValue = this.increaseValue.bind(this);\n    this.decreaseValue = this.decreaseValue.bind(this);\n    this.removeProduct = this.removeProduct.bind(this);\n    this.removeProductFromDecrease = this.removeProductFromDecrease.bind(this);\n    this.state = {\n      cart: '',\n    };\n  }\n\n  componentDidMount() {\n    this.loadCart();\n  }\n\n  disableButton = (element) => {\n    const { QUANTIDADE } = element[1];\n    const { available_quantity: inventory } = element[0];\n    if (QUANTIDADE === inventory) {\n      return true;\n    }\n    return false;\n  }\n\n  removeProduct({ target }) {\n    const { cart } = this.state;\n    const NEW_CART = cart.filter((element) => element[0].id !== target.id);\n    localStorage.setItem('Cart', JSON.stringify(NEW_CART));\n    this.loadCart();\n  }\n\n  removeProductFromDecrease(id) {\n    const { cart } = this.state;\n    const NEW_CART = cart.filter((element) => element[0].id !== id);\n    localStorage.setItem('Cart', JSON.stringify(NEW_CART));\n    this.setState({ cart: NEW_CART });\n    this.loadCart();\n  }\n\n  decreaseValue({ target }) {\n    const CART = JSON.parse(localStorage.getItem('Cart'));\n    const ID = target.id;\n    const ITEM = CART.find((element) => element[0].id === target.id);\n    if (ITEM[1].QUANTIDADE === 1) {\n      this.removeProductFromDecrease(ID);\n    } else {\n      const { price } = ITEM[0];\n      const { priceUnity } = ITEM[1];\n      CART.reduce((acc, o) => acc.concat(ID.includes(o[0].id)\n        ? Object.assign(o[1], { QUANTIDADE: o[1].QUANTIDADE - 1,\n          priceUnity: priceUnity - price })\n        : o), []);\n      localStorage.setItem('Cart', JSON.stringify(CART));\n      this.setState({ cart: CART });\n    }\n  }\n\n  loadCart() {\n    const LOAD_CART = JSON.parse(localStorage.getItem('Cart'));\n    this.setState({ cart: LOAD_CART });\n  }\n\n  // A função 'reduce' que atualiza um objeto sem mudar as suas posições foi retidado do site: https://pt.stackoverflow.com/questions/397104/atualizar-campo-de-uma-sele%C3%A7%C3%A3o-de-um-array-de-objetos-com-filter\n  increaseValue({ target }) {\n    const CART = JSON.parse(localStorage.getItem('Cart'));\n    const ID = target.id;\n    const getItemClicked = CART.filter((item) => item[0].id === ID);\n    const { price } = getItemClicked[0][0];\n    CART.reduce((acc, o) => acc.concat(ID.includes(o[0].id)\n      ? Object.assign(o[1], { QUANTIDADE: o[1].QUANTIDADE + 1,\n        priceUnity: (o[1].QUANTIDADE + 1) * price })\n      : o), []);\n    localStorage.setItem('Cart', JSON.stringify(CART));\n    this.setState({ cart: CART });\n  }\n\n  somaCart = (cart) => {\n    if (cart.length > 0) {\n      return cart.map((elem) => elem[1].priceUnity).reduce((a, b) => a + b);\n    }\n    return 0;\n  }\n\n  render() {\n    const trashIcon = <FontAwesomeIcon icon={ faTrashAlt } />;\n    const { cart } = this.state;\n    const totalValue = this.somaCart(cart);\n    console.log(totalValue);\n\n    if (cart.length > 0) {\n      return (\n        <div>\n          <header className=\"hero is-primary main-screen-header\">\n            <div\n              className=\"hero-body\n          container-input\n          is-flex-direction-row\n          is-justify-content-space-around\n          columns\n          is-align-items-start\n           \"\n            >\n\n              <div className=\"column\">\n                <img className=\"imageLogo\" src=\"https://theme.zdassets.com/theme_assets/9633455/9814df697eaf49815d7df109110815ff887b3457.png\" alt=\"\" />\n                <p className=\"subtitle\">\n                  <strong>Store</strong>\n                </p>\n              </div>\n\n              <div className=\"column pt-6\">\n                <p className=\"title\" data-testid=\"home-initial-message\">\n                  Cart\n                </p>\n              </div>\n\n              <div className=\"column pt-6\">\n                <Link to=\"/\">\n                  <button\n                    type=\"button\"\n                    className=\" button is-link is-light shopping-cart-button float-right\"\n                  >\n                    Voltar a home\n\n                  </button>\n                </Link>\n              </div>\n            </div>\n\n          </header>\n          <main className=\"cart-container\">\n            <p className=\"title\">Meu Carrinho</p>\n            <div className=\"columns\">\n              <div className=\"column\">\n\n                <table className=\"table card\">\n                  <thead>\n                    <tr>\n                      <th>\n                        Item\n                      </th>\n\n                      <th>\n                  &nbsp;\n                      </th>\n\n                      <th>\n                        Valor\n                      </th>\n\n                      <th>\n                        Quantidade\n                      </th>\n\n                      <th>\n                        Total\n                      </th>\n\n                      <th>\n              &nbsp;\n                      </th>\n                    </tr>\n\n                  </thead>\n\n                  <tbody>\n                    {cart.map((element) => (\n                      <tr key={ element[0].id }>\n                        {/* Table Cart */}\n\n                        <td>\n                          <div className=\"\">\n                            <img className=\"image-cart\" src={ element[0].thumbnail } alt={ element[0].title } />\n                          </div>\n                        </td>\n\n                        <td>\n                          <Link\n                            className=\"link-card\"\n                            to={ { pathname: `/product-details/${element[0].id}`,\n                              state: { element } } }\n                            data-testid=\"product-detail-link\"\n                          >\n                            <p data-testid=\"shopping-cart-product-name\" className=\"title-cart\">{ element[0].title }</p>\n                          </Link>\n                        </td>\n\n                        <td>\n                          <p>{`R$ ${element[0].price.toFixed(2)}`}</p>\n                        </td>\n\n                        <td>\n                          <div className=\"add-quantity\">\n                            <button\n                              className=\"button\"\n                              id={ element[0].id }\n                              type=\"button\"\n                              data-testid=\"product-decrease-quantity\"\n                              onClick={ this.decreaseValue }\n                            >\n                              -\n                            </button>\n\n                            <p className=\"quantity\" data-testid=\"shopping-cart-product-quantity\">\n                              { element[1].QUANTIDADE }\n                            </p>\n\n                            <button\n                              className=\"button\"\n                              id={ element[0].id }\n                              type=\"button\"\n                              data-testid=\"product-increase-quantity\"\n                              onClick={ this.increaseValue }\n                              disabled={ this.disableButton(element) }\n                            >\n                              +\n                            </button>\n                          </div>\n                        </td>\n                        <td>\n                          <p className=\"is-size-4\">{`R$ ${element[1].priceUnity.toFixed(2)}`}</p>\n                        </td>\n                        <td>\n                          <button\n                            className=\"button is-danger\"\n                            id={ element[0].id }\n                            type=\"button\"\n                            data-testid=\"\"\n                            onClick={ this.removeProduct }\n                          >\n                            {trashIcon}\n                          </button>\n\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n              <div className=\"column is-2 total-products \">\n                <p><strong>Resumo do Pedido</strong></p>\n                <p>{`${cart.length} Produto(s)`}</p>\n                <h1>Valor Total</h1>\n                <p className=\"valueCart is-size-3 has-text-info\">{`R$ ${totalValue.toFixed(2)}`}</p>\n\n                <Link to=\"/checkout\">\n                  <button\n                    className=\"button is-success\"\n                    type=\"button\"\n                    data-testid=\"checkout-products\"\n                  >\n                    Finalizar Compra\n                  </button>\n                </Link>\n              </div>\n\n            </div>\n          </main>\n        </div>\n      );\n    }\n    return (\n      <div>\n        <p\n          data-testid=\"shopping-cart-empty-message\"\n        >\n          Seu carrinho está vazio\n        </p>\n      </div>\n    );\n  }\n}\n\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}